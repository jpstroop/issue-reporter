<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/5fda38894b.js" crossorigin="anonymous"></script>
    <link rel = "stylesheet" type="text/css" href="../../../../css/main.css" />
    <title>PUL GitHub Issues for 2023-12-22T22:00:08</title>
  </head>

<body>
  <div class="container-fluid">
    <a id="btt-button"></a>
    
<h1 class="bg-dark text-light">PUL GitHub Issues<br />
  <small class="text-white-70">2023-12-22</small></h1>
<nav class="navbar sticky-top navbar-dark bg-dark">
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-toggler" aria-controls="navbar-toggler" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbar-toggler">
    <ul class="navbar-nav mr-auto mt-2 pt-3 mt-lg-0">
      <li class="nav-item not-mono">
        <a class="nav-link" href="../../../../index.html"><i class="fas fa-arrow-left"></i> Back to Report List Page</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#DSS">pulibrary/DSS</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#bibdata">pulibrary/bibdata</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#figgy">pulibrary/figgy</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#lux-styleguidist">pulibrary/lux-styleguidist</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#marc_cleanup">pulibrary/marc_cleanup</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#orangelight">pulibrary/orangelight</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#princeton_ansible">pulibrary/princeton_ansible</a>
      </li>
      </li>
    </ul>
  </div>
</nav>

    
    <section class="repo" id="DSS">
      <h2><a href="https://github.com/pulibrary/DSS">pulibrary/DSS</a> <i class="fas fa-external-link-alt fa-xs"></i></h2>
      <div class="issues">
        
      <div class="issue even" id="DSS-391">
        <h3><a href="https://github.com/pulibrary/DSS/pull/391">#391</a> Fix visual regression in non-admin screens</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Jane Sandberg</dd>
          <dt>Created:</dt>
          <dd>2023-12-22 22:16:28</dd>
          <dt>Status:</dt>
          <dd>Closed
          (<a href="https://github.com/pulibrary/DSS/pull/391">pull request</a>)
          </dd>
          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>referenced</code> by Christina Chortaria at 2023-12-22 22:22:58.</li>
  <li class="event odd">
    <code>merged</code> by Christina Chortaria at 2023-12-22 22:22:58.</li>
  <li class="event even">
    <code>closed</code> by Christina Chortaria at 2023-12-22 22:22:58.</li>
  <li class="event odd">
    <code>head_ref_deleted</code> by Christina Chortaria at 2023-12-22 22:22:59.</li>

            </ul>
          </dd>
        </dl>
      </div>
      <div class="issue odd" id="DSS-390">
        <h3><a href="https://github.com/pulibrary/DSS/issues/390">#390</a> Visual regression: search results page</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Jane Sandberg</dd>
          <dt>Created:</dt>
          <dd>2023-12-22 20:09:40</dd>
          <dt>Status:</dt>
          <dd>Closed
          </dd>
          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>labeled</code> by Jane Sandberg at 2023-12-22 20:09:40.</li>
  <li class="event odd">
    <code>assigned</code> by Jane Sandberg at 2023-12-22 20:09:40.</li>
  <li class="event even">
    <code>closed</code> by Christina Chortaria at 2023-12-22 22:22:59.</li>

            </ul>
          </dd>
        </dl>
      </div>

      </div>
    </section>
    <section class="repo" id="bibdata">
      <h2><a href="https://github.com/pulibrary/bibdata">pulibrary/bibdata</a> <i class="fas fa-external-link-alt fa-xs"></i></h2>
      <div class="issues">
        
      <div class="issue even" id="bibdata-2285">
        <h3><a href="https://github.com/pulibrary/bibdata/issues/2285">#2285</a> lightly gem is quite out of date</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Jane Sandberg</dd>
          <dt>Created:</dt>
          <dd>2023-12-22 19:19:36</dd>
          <dt>Status:</dt>
          <dd>Open
          </dd>
          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>labeled</code> by Jane Sandberg at 2023-12-22 19:19:36.</li>

            </ul>
          </dd>
        </dl>
      </div>
      <div class="issue odd" id="bibdata-2284">
        <h3><a href="https://github.com/pulibrary/bibdata/pull/2284">#2284</a> Upgrade old gem dependencies</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Jane Sandberg</dd>
          <dt>Created:</dt>
          <dd>2023-12-21 21:41:06</dd>
          <dt>Status:</dt>
          <dd>Closed
          (<a href="https://github.com/pulibrary/bibdata/pull/2284">pull request</a>)
          </dd>
          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>convert_to_draft</code> by Jane Sandberg at 2023-12-21 22:35:21.</li>
  <li class="event odd">
    <code>head_ref_force_pushed</code> by Jane Sandberg at 2023-12-22 18:08:25.</li>
  <li class="event even">
    <code>ready_for_review</code> by Jane Sandberg at 2023-12-22 19:19:54.</li>
  <li class="event odd">
    <code>referenced</code> by Christina Chortaria at 2023-12-22 19:22:31.</li>
  <li class="event even">
    <code>merged</code> by Christina Chortaria at 2023-12-22 19:22:31.</li>
  <li class="event odd">
    <code>closed</code> by Christina Chortaria at 2023-12-22 19:22:31.</li>
  <li class="event even">
    <code>head_ref_deleted</code> by Christina Chortaria at 2023-12-22 19:22:32.</li>

            </ul>
          </dd>
        </dl>
      </div>

      </div>
    </section>
    <section class="repo" id="figgy">
      <h2><a href="https://github.com/pulibrary/figgy">pulibrary/figgy</a> <i class="fas fa-external-link-alt fa-xs"></i></h2>
      <div class="issues">
        
      <div class="issue even" id="figgy-5582">
        <h3><a href="https://github.com/pulibrary/figgy/issues/5582">#5582</a> Identify FileSets with broken derivatives, do a one-time fix</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Trey Pendragon</dd>
          <dt>Created:</dt>
          <dd>2022-12-08 19:25:28</dd>
          <dt>Status:</dt>
          <dd>Closed
          </dd>
          <dt>Comments:</dt>
          

          <dd class="comments">
            <dl>
              <dt>Eliot Jordan at <a href="https://github.com/pulibrary/figgy/issues/5582#issuecomment-1868042429">2023-12-22 20:16:47</a> <i class="fas fa-external-link-alt fa-xs"></i> :</dt>
              <dd class="even">
                <p>Found FileSets with an error message with this query:</p>

<pre><code class="language-ruby">  def relationship_query
    &lt;&lt;-SQL
      SELECT id FROM orm_resources a,
      jsonb_array_elements(a.metadata-&gt;&#39;file_metadata&#39;) AS g(file_metadata)
      WHERE internal_resource = &#39;FileSet&#39;
      AND g.file_metadata-&gt;&#39;error_message&#39; != &#39;[]&#39;::jsonb
    SQL
  end

  query_service.connection[relationship_query]
</code></pre>

<p>And queued up CreateDerivativesJobs for the each of the 752 resulting resources. </p>

              </dd>
              <dt>Trey Pendragon at <a href="https://github.com/pulibrary/figgy/issues/5582#issuecomment-1868107156">2023-12-22 22:27:59</a> <i class="fas fa-external-link-alt fa-xs"></i> :</dt>
              <dd class="odd">
                <p>Wasn&#39;t adding error messages broken for a long time? Did the proposal above not work?</p>

              </dd>
            </dl>
          </dd>

          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>closed</code> by Eliot Jordan at 2023-12-22 20:16:47.</li>

            </ul>
          </dd>
        </dl>
      </div>

      </div>
    </section>
    <section class="repo" id="lux-styleguidist">
      <h2><a href="https://github.com/pulibrary/lux-styleguidist">pulibrary/lux-styleguidist</a> <i class="fas fa-external-link-alt fa-xs"></i></h2>
      <div class="issues">
        
      <div class="issue even" id="lux-styleguidist-22">
        <h3><a href="https://github.com/pulibrary/lux-styleguidist/pull/22">#22</a> Deploy script added to publish docs to Github Pages</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Shaun Ellis</dd>
          <dt>Created:</dt>
          <dd>2023-12-21 19:05:25</dd>
          <dt>Status:</dt>
          <dd>Closed
          (<a href="https://github.com/pulibrary/lux-styleguidist/pull/22">pull request</a>)
          </dd>
          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>head_ref_force_pushed</code> by Christina Chortaria at 2023-12-22 18:15:46.</li>
  <li class="event odd">
    <code>referenced</code> by Christina Chortaria at 2023-12-22 18:16:41.</li>
  <li class="event even">
    <code>merged</code> by Christina Chortaria at 2023-12-22 18:16:41.</li>
  <li class="event odd">
    <code>closed</code> by Christina Chortaria at 2023-12-22 18:16:41.</li>

            </ul>
          </dd>
        </dl>
      </div>

      </div>
    </section>
    <section class="repo" id="marc_cleanup">
      <h2><a href="https://github.com/pulibrary/marc_cleanup">pulibrary/marc_cleanup</a> <i class="fas fa-external-link-alt fa-xs"></i></h2>
      <div class="issues">
        
      <div class="issue even" id="marc_cleanup-91">
        <h3><a href="https://github.com/pulibrary/marc_cleanup/pull/91">#91</a> Improve test coverage of 008 methods</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Beck Davis</dd>
          <dt>Created:</dt>
          <dd>2023-12-21 18:40:47</dd>
          <dt>Status:</dt>
          <dd>Open
          (<a href="https://github.com/pulibrary/marc_cleanup/pull/91">pull request</a>)
          </dd>
          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>ready_for_review</code> by Beck Davis at 2023-12-22 21:00:24.</li>
  <li class="event odd">
    <code>renamed</code> by Beck Davis at 2023-12-22 21:01:20.</li>
  <li class="event even">
    <code>assigned</code> by Beck Davis at 2023-12-22 21:11:15.</li>
  <li class="event odd">
    <code>review_requested</code> by Beck Davis at 2023-12-22 21:11:30.</li>

            </ul>
          </dd>
        </dl>
      </div>
      <div class="issue odd" id="marc_cleanup-90">
        <h3><a href="https://github.com/pulibrary/marc_cleanup/issues/90">#90</a> Improve test coverage for 008 methods</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Beck Davis</dd>
          <dt>Created:</dt>
          <dd>2023-12-21 17:34:55</dd>
          <dt>Status:</dt>
          <dd>Open
          </dd>
          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>assigned</code> by Beck Davis at 2023-12-22 21:13:18.</li>

            </ul>
          </dd>
        </dl>
      </div>

      </div>
    </section>
    <section class="repo" id="orangelight">
      <h2><a href="https://github.com/pulibrary/orangelight">pulibrary/orangelight</a> <i class="fas fa-external-link-alt fa-xs"></i></h2>
      <div class="issues">
        
      <div class="issue even" id="orangelight-3913">
        <h3><a href="https://github.com/pulibrary/orangelight/issues/3913">#3913</a> Refactor availability js</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Christina Chortaria</dd>
          <dt>Created:</dt>
          <dd>2023-12-19 12:56:42</dd>
          <dt>Status:</dt>
          <dd>Open
          </dd>
          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>referenced</code> by Christina Chortaria at 2023-12-22 19:34:26.</li>

            </ul>
          </dd>
        </dl>
      </div>
      <div class="issue odd" id="orangelight-3916">
        <h3><a href="https://github.com/pulibrary/orangelight/issues/3916">#3916</a> Test fails intermittently </h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Christina Chortaria</dd>
          <dt>Created:</dt>
          <dd>2023-12-22 22:19:32</dd>
          <dt>Status:</dt>
          <dd>Open
          </dd>
          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>labeled</code> by Christina Chortaria at 2023-12-22 22:19:32.</li>

            </ul>
          </dd>
        </dl>
      </div>

      </div>
    </section>
    <section class="repo" id="princeton_ansible">
      <h2><a href="https://github.com/pulibrary/princeton_ansible">pulibrary/princeton_ansible</a> <i class="fas fa-external-link-alt fa-xs"></i></h2>
      <div class="issues">
        
      <div class="issue even" id="princeton_ansible-4549">
        <h3><a href="https://github.com/pulibrary/princeton_ansible/pull/4549">#4549</a> [cdh/geniza] upgrade to jammy</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Francis Kayiwa</dd>
          <dt>Created:</dt>
          <dd>2023-12-22 21:07:27</dd>
          <dt>Status:</dt>
          <dd>Open
          (<a href="https://github.com/pulibrary/princeton_ansible/pull/4549">pull request</a>)
          </dd>
          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>head_ref_force_pushed</code> by Francis Kayiwa at 2023-12-22 21:08:54.</li>

            </ul>
          </dd>
        </dl>
      </div>
      <div class="issue odd" id="princeton_ansible-4397">
        <h3><a href="https://github.com/pulibrary/princeton_ansible/pull/4397">#4397</a> First steps to nginx config template</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Alicia Cozine</dd>
          <dt>Created:</dt>
          <dd>2023-10-11 19:34:12</dd>
          <dt>Status:</dt>
          <dd>Open
          (<a href="https://github.com/pulibrary/princeton_ansible/pull/4397">pull request</a>)
          </dd>
          <dt>Comments:</dt>
          

          <dd class="comments">
            <dl>
              <dt>Alicia Cozine at <a href="https://github.com/pulibrary/princeton_ansible/pull/4397#issuecomment-1793192709">2023-12-22 21:11:05</a> <i class="fas fa-external-link-alt fa-xs"></i> :</dt>
              <dd class="even">
                <p>Known remaining work to a first-round merge:
- [x] add a directory for templated config
- [x] include the templated config directory in the main nginx config file, so both static and templated config files are loaded by the load balancer
- [x] update the task to send the templated files to that new directory
- [x] remove the <code>template_test</code> tag
- [x] find a way to remove unneeded/old files from the /etc/nginx/conf.d/dynamic directory
- [ ] make sure the SSL directories on the load balancer match the directory names in the /etc/nginx/conf.d/dynamic/*.conf files.  Use roles/nginxplus/vars/main.yml to create the SSL certificates in the appropriate directory structure.
- [ ] Update /etc/nginx/nginx.conf to include the dynamic directory configs, either manually or by running playbooks/nginxplus<em>production</em>rebuild.yml.
- [ ] test playbook again</p>

              </dd>
              <dt>Alicia Cozine at <a href="https://github.com/pulibrary/princeton_ansible/pull/4397#issuecomment-1868073819">2023-12-22 21:15:56</a> <i class="fas fa-external-link-alt fa-xs"></i> :</dt>
              <dd class="odd">
                <p>@sandbergja and I tested the tasks for identifying and removing obsolete dynamic config files today. I added tasks for doing the same for obsolete static config files. I think after the break we can start moving the easy configs over. Procedure:
- [ ] confirm that the SSL certs for the first sites to migrate have the correct dir names
- [ ] update the main config to include the new dynamic config directory
- [ ] remove the static config files for the first sites to migrate
- [ ] run the playbook and test</p>

<p>If that works as expected, then we can merge this PR and migrate one or two configs per PR for the next few months.</p>

              </dd>
              <dt>Alicia Cozine at <a href="https://github.com/pulibrary/princeton_ansible/pull/4397#issuecomment-1868074480">2023-12-22 21:17:18</a> <i class="fas fa-external-link-alt fa-xs"></i> :</dt>
              <dd class="even">
                <p>Rebased ahead of the holidays. </p>

              </dd>
            </dl>
          </dd>

          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>mentioned</code> by Jane Sandberg at 2023-12-22 21:15:57.</li>
  <li class="event odd">
    <code>subscribed</code> by Jane Sandberg at 2023-12-22 21:15:57.</li>
  <li class="event even">
    <code>head_ref_force_pushed</code> by Alicia Cozine at 2023-12-22 21:16:49.</li>

            </ul>
          </dd>
        </dl>
      </div>

      </div>
    </section>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="../../../../js/report.js"></script>
  </div>
</body>

</html>
