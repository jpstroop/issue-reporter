<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/5fda38894b.js" crossorigin="anonymous"></script>
    <link rel = "stylesheet" type="text/css" href="../../../../css/main.css" />
    <title>PUL GitHub Issues for 2023-12-27T22:00:06</title>
  </head>

<body>
  <div class="container-fluid">
    <a id="btt-button"></a>
    
<h1 class="bg-dark text-light">PUL GitHub Issues<br />
  <small class="text-white-70">2023-12-27</small></h1>
<nav class="navbar sticky-top navbar-dark bg-dark">
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-toggler" aria-controls="navbar-toggler" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbar-toggler">
    <ul class="navbar-nav mr-auto mt-2 pt-3 mt-lg-0">
      <li class="nav-item not-mono">
        <a class="nav-link" href="../../../../index.html"><i class="fas fa-arrow-left"></i> Back to Report List Page</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#DSS">pulibrary/DSS</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#figgy">pulibrary/figgy</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#marc_cleanup">pulibrary/marc_cleanup</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#princeton_ansible">pulibrary/princeton_ansible</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#pulfalight">pulibrary/pulfalight</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#pulmap">pulibrary/pulmap</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#tiger-data-app">pulibrary/tiger-data-app</a>
      </li>
      </li>
    </ul>
  </div>
</nav>

    
    <section class="repo" id="DSS">
      <h2><a href="https://github.com/pulibrary/DSS">pulibrary/DSS</a> <i class="fas fa-external-link-alt fa-xs"></i></h2>
      <div class="issues">
        
      <div class="issue even" id="DSS-392">
        <h3><a href="https://github.com/pulibrary/DSS/pull/392">#392</a> Update auth config.</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Kevin Reiss</dd>
          <dt>Created:</dt>
          <dd>2023-12-23 03:35:22</dd>
          <dt>Status:</dt>
          <dd>Closed
          (<a href="https://github.com/pulibrary/DSS/pull/392">pull request</a>)
          </dd>
          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>referenced</code> by Jane Sandberg at 2023-12-27 16:33:24.</li>
  <li class="event odd">
    <code>merged</code> by Jane Sandberg at 2023-12-27 16:33:24.</li>
  <li class="event even">
    <code>closed</code> by Jane Sandberg at 2023-12-27 16:33:24.</li>
  <li class="event odd">
    <code>head_ref_deleted</code> by Jane Sandberg at 2023-12-27 16:33:24.</li>

            </ul>
          </dd>
        </dl>
      </div>
      <div class="issue odd" id="DSS-393">
        <h3><a href="https://github.com/pulibrary/DSS/pull/393">#393</a> Add before_action for authenticated admin user</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Jane Sandberg</dd>
          <dt>Created:</dt>
          <dd>2023-12-27 23:30:40</dd>
          <dt>Status:</dt>
          <dd>Closed
          (<a href="https://github.com/pulibrary/DSS/pull/393">pull request</a>)
          </dd>
          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>referenced</code> by Christina Chortaria at 2023-12-27 23:34:14.</li>
  <li class="event odd">
    <code>merged</code> by Christina Chortaria at 2023-12-27 23:34:14.</li>
  <li class="event even">
    <code>closed</code> by Christina Chortaria at 2023-12-27 23:34:15.</li>
  <li class="event odd">
    <code>head_ref_deleted</code> by Christina Chortaria at 2023-12-27 23:34:15.</li>

            </ul>
          </dd>
        </dl>
      </div>

      </div>
    </section>
    <section class="repo" id="figgy">
      <h2><a href="https://github.com/pulibrary/figgy">pulibrary/figgy</a> <i class="fas fa-external-link-alt fa-xs"></i></h2>
      <div class="issues">
        
      <div class="issue even" id="figgy-5459">
        <h3><a href="https://github.com/pulibrary/figgy/issues/5459">#5459</a> figgy item doesn't link to correct finding aid page</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>hackartisan</dd>
          <dt>Created:</dt>
          <dd>2022-10-06 18:51:59</dd>
          <dt>Status:</dt>
          <dd>Open
          </dd>
          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>assigned</code> by Sean Warren  at 2023-12-27 15:34:42.</li>
  <li class="event odd">
    <code>assigned</code> by None at 2023-12-27 15:34:42.</li>
  <li class="event even">
    <code>referenced</code> by Sean Warren  at 2023-12-27 16:37:45.</li>

            </ul>
          </dd>
        </dl>
      </div>
      <div class="issue odd" id="figgy-6142">
        <h3><a href="https://github.com/pulibrary/figgy/pull/6142">#6142</a> changed dots to dashes in finding aids links</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Sean Warren </dd>
          <dt>Created:</dt>
          <dd>2023-12-27 16:39:18</dd>
          <dt>Status:</dt>
          <dd>Open
          (<a href="https://github.com/pulibrary/figgy/pull/6142">pull request</a>)
          </dd>
        </dl>
      </div>
      <div class="issue even" id="figgy-6143">
        <h3><a href="https://github.com/pulibrary/figgy/issues/6143">#6143</a> Add rate limiting</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>hackartisan</dd>
          <dt>Created:</dt>
          <dd>2023-12-27 16:59:52</dd>
          <dt>Status:</dt>
          <dd>Closed
          </dd>
          <dt>Comments:</dt>
          

          <dd class="comments">
            <dl>
              <dt>hackartisan at <a href="https://github.com/pulibrary/figgy/issues/6143#issuecomment-1870564028">2023-12-27 19:15:27</a> <i class="fas fa-external-link-alt fa-xs"></i> :</dt>
              <dd class="even">
                <p>The issue today appears to be pdf generation, not bot behavior. Closing for now. See <a href="https://github.com/pulibrary/figgy/issues/4876">https://github.com/pulibrary/figgy/issues/4876</a></p>

              </dd>
            </dl>
          </dd>

          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>labeled</code> by None at 2023-12-27 16:59:52.</li>
  <li class="event odd">
    <code>labeled</code> by None at 2023-12-27 16:59:52.</li>
  <li class="event even">
    <code>assigned</code> by None at 2023-12-27 18:32:40.</li>
  <li class="event odd">
    <code>closed</code> by None at 2023-12-27 19:15:27.</li>

            </ul>
          </dd>
        </dl>
      </div>
      <div class="issue odd" id="figgy-4876">
        <h3><a href="https://github.com/pulibrary/figgy/issues/4876">#4876</a> Generating a PDF the first time locks up a Passenger thread, eventually freezing up a Figgy machine.</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Trey Pendragon</dd>
          <dt>Created:</dt>
          <dd>2022-01-11 19:11:03</dd>
          <dt>Status:</dt>
          <dd>Open
          </dd>
          <dt>Comments:</dt>
          

          <dd class="comments">
            <dl>
              <dt>hackartisan at <a href="https://github.com/pulibrary/figgy/issues/4876#issuecomment-1870563365">2023-12-27 19:14:26</a> <i class="fas fa-external-link-alt fa-xs"></i> :</dt>
              <dd class="even">
                <p>This issue is causing intermittent downtime on Figgy once again. I uploaded some logs resulting from a datadog search for <code>get concern scanned_resources pdf</code> and they&#39;re here <a href="https://drive.google.com/drive/u/2/folders/1CdaMVunK_PZYH2YHMmJHprKFyG_u65xg">https://drive.google.com/drive/u/2/folders/1CdaMVunK_PZYH2YHMmJHprKFyG_u65xg</a></p>

<p>You can also see this by looking at APM traces. E.g. right now if I go to figgy&#39;s APM trace for ScannedResourceController#pdf and click on that, I see the graphs for latency and errors are correlated.</p>

              </dd>
            </dl>
          </dd>

          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>labeled</code> by None at 2023-12-27 19:21:32.</li>

            </ul>
          </dd>
        </dl>
      </div>

      </div>
    </section>
    <section class="repo" id="marc_cleanup">
      <h2><a href="https://github.com/pulibrary/marc_cleanup">pulibrary/marc_cleanup</a> <i class="fas fa-external-link-alt fa-xs"></i></h2>
      <div class="issues">
        
      <div class="issue even" id="marc_cleanup-92">
        <h3><a href="https://github.com/pulibrary/marc_cleanup/pull/92">#92</a> new tests for the bad_005? method</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Beck Davis</dd>
          <dt>Created:</dt>
          <dd>2023-12-27 14:46:45</dd>
          <dt>Status:</dt>
          <dd>Open
          (<a href="https://github.com/pulibrary/marc_cleanup/pull/92">pull request</a>)
          </dd>
        </dl>
      </div>
      <div class="issue odd" id="marc_cleanup-85">
        <h3><a href="https://github.com/pulibrary/marc_cleanup/issues/85">#85</a> Test bad_005? method</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Beck Davis</dd>
          <dt>Created:</dt>
          <dd>2023-12-19 15:30:28</dd>
          <dt>Status:</dt>
          <dd>Open
          </dd>
        </dl>
      </div>
      <div class="issue even" id="marc_cleanup-93">
        <h3><a href="https://github.com/pulibrary/marc_cleanup/pull/93">#93</a> Tests for bad_006? and fix_006</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Beck Davis</dd>
          <dt>Created:</dt>
          <dd>2023-12-27 21:08:41</dd>
          <dt>Status:</dt>
          <dd>Open
          (<a href="https://github.com/pulibrary/marc_cleanup/pull/93">pull request</a>)
          </dd>
        </dl>
      </div>

      </div>
    </section>
    <section class="repo" id="princeton_ansible">
      <h2><a href="https://github.com/pulibrary/princeton_ansible">pulibrary/princeton_ansible</a> <i class="fas fa-external-link-alt fa-xs"></i></h2>
      <div class="issues">
        
      <div class="issue even" id="princeton_ansible-4550">
        <h3><a href="https://github.com/pulibrary/princeton_ansible/issues/4550">#4550</a> Implement global strategy for handling automated traffic</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>hackartisan</dd>
          <dt>Created:</dt>
          <dd>2023-12-27 18:31:39</dd>
          <dt>Status:</dt>
          <dd>Open
          </dd>
        </dl>
      </div>
      <div class="issue odd" id="princeton_ansible-4498">
        <h3><a href="https://github.com/pulibrary/princeton_ansible/pull/4498">#4498</a> Configure passenger to load bundler before loading app</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>hackartisan</dd>
          <dt>Created:</dt>
          <dd>2023-12-04 16:43:19</dd>
          <dt>Status:</dt>
          <dd>Open
          (<a href="https://github.com/pulibrary/princeton_ansible/pull/4498">pull request</a>)
          </dd>
          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>ready_for_review</code> by None at 2023-12-27 21:56:56.</li>

            </ul>
          </dd>
        </dl>
      </div>
      <div class="issue even" id="princeton_ansible-4542">
        <h3><a href="https://github.com/pulibrary/princeton_ansible/pull/4542">#4542</a> [pulfalight] provision jammy qa machines</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>hackartisan</dd>
          <dt>Created:</dt>
          <dd>2023-12-15 21:39:34</dd>
          <dt>Status:</dt>
          <dd>Closed
          (<a href="https://github.com/pulibrary/princeton_ansible/pull/4542">pull request</a>)
          </dd>
          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>referenced</code> by Alicia Cozine at 2023-12-27 21:58:29.</li>
  <li class="event odd">
    <code>merged</code> by Alicia Cozine at 2023-12-27 21:58:29.</li>
  <li class="event even">
    <code>closed</code> by Alicia Cozine at 2023-12-27 21:58:29.</li>
  <li class="event odd">
    <code>head_ref_deleted</code> by Alicia Cozine at 2023-12-27 21:58:29.</li>

            </ul>
          </dd>
        </dl>
      </div>

      </div>
    </section>
    <section class="repo" id="pulfalight">
      <h2><a href="https://github.com/pulibrary/pulfalight">pulibrary/pulfalight</a> <i class="fas fa-external-link-alt fa-xs"></i></h2>
      <div class="issues">
        
      <div class="issue even" id="pulfalight-1264">
        <h3><a href="https://github.com/pulibrary/pulfalight/issues/1264">#1264</a> Don't log an entire EAD on indexing error</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Eliot Jordan</dd>
          <dt>Created:</dt>
          <dd>2023-07-06 21:38:47</dd>
          <dt>Status:</dt>
          <dd>Open
          </dd>
          <dt>Comments:</dt>
          

          <dd class="comments">
            <dl>
              <dt>Sean Warren  at <a href="https://github.com/pulibrary/pulfalight/issues/1264#issuecomment-1870409212">2023-12-27 15:30:29</a> <i class="fas fa-external-link-alt fa-xs"></i> :</dt>
              <dd class="even">
                <p>Need an example of a log message that shows this behavior. </p>

              </dd>
            </dl>
          </dd>

          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>unassigned</code> by None at 2023-12-27 15:30:38.</li>
  <li class="event odd">
    <code>unassigned</code> by Sean Warren  at 2023-12-27 15:30:38.</li>

            </ul>
          </dd>
        </dl>
      </div>

      </div>
    </section>
    <section class="repo" id="pulmap">
      <h2><a href="https://github.com/pulibrary/pulmap">pulibrary/pulmap</a> <i class="fas fa-external-link-alt fa-xs"></i></h2>
      <div class="issues">
        
      <div class="issue even" id="pulmap-1191">
        <h3><a href="https://github.com/pulibrary/pulmap/issues/1191">#1191</a> Connections error with "no live upstreams while connecting to upstream" in load balancer logs</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>hackartisan</dd>
          <dt>Created:</dt>
          <dd>2023-12-27 19:35:13</dd>
          <dt>Status:</dt>
          <dd>Open
          </dd>
          <dt>Comments:</dt>
          

          <dd class="comments">
            <dl>
              <dt>hackartisan at <a href="https://github.com/pulibrary/pulmap/issues/1191#issuecomment-1870615217">2023-12-27 20:44:04</a> <i class="fas fa-external-link-alt fa-xs"></i> :</dt>
              <dd class="even">
                <p>These log messages are preceded by:</p>

<p>&quot;recv() failed (110: Connection timed out) while reading response header from upstream&quot;
and then
&quot;upstream server temporarily disabled while reading response header from upstream&quot;</p>

<p>Here&#39;s a bunch of them clicked through from one of the originals, viewed &quot;in context&quot; and then limited to the maps hosts. <a href="https://app.datadoghq.com/logs?query=host%3Alib-adc2%20service%3Anginxplus%20filename%3Aerror.log%20%40host%3Amaps.princeton.edu&amp;cols=host%2Cservice%2C%40host%2C%40http.method&amp;context_event=AYys_0S8AAArzWabdR8uBAAI&amp;index=%2A&amp;messageDisplay=inline&amp;refresh_mode=sliding&amp;storage=hot&amp;stream_sort=time%2Cdesc&amp;viz=&amp;from_ts=1703709156000&amp;to_ts=1703709459001&amp;live=false">https://app.datadoghq.com/logs?query=host%3Alib-adc2%20service%3Anginxplus%20filename%3Aerror.log%20%40host%3Amaps.princeton.edu&amp;cols=host%2Cservice%2C%40host%2C%40http.method&amp;context_event=AYys_0S8AAArzWabdR8uBAAI&amp;index=%2A&amp;messageDisplay=inline&amp;refresh_mode=sliding&amp;storage=hot&amp;stream_sort=time%2Cdesc&amp;viz=&amp;from_ts=1703709156000&amp;to_ts=1703709459001&amp;live=false</a></p>

              </dd>
              <dt>hackartisan at <a href="https://github.com/pulibrary/pulmap/issues/1191#issuecomment-1870619532">2023-12-27 20:52:07</a> <i class="fas fa-external-link-alt fa-xs"></i> :</dt>
              <dd class="odd">
                <p>I thought maybe it&#39;s the large cookies issue. I manually applied the change from <a href="https://github.com/pulibrary/princeton_ansible/pull/4530/files">https://github.com/pulibrary/princeton_ansible/pull/4530/files</a> to the maps prod passenger configuration and restarted.</p>

              </dd>
              <dt>hackartisan at <a href="https://github.com/pulibrary/pulmap/issues/1191#issuecomment-1870649279">2023-12-27 21:51:35</a> <i class="fas fa-external-link-alt fa-xs"></i> :</dt>
              <dd class="even">
                <p>There aren&#39;t really errors on the pulmap boxes; it seems like something with the load balancer itself. Also, it seems to be less of an issue if you&#39;re on VPN, maybe not a problem really if you&#39;re on campus.</p>

              </dd>
            </dl>
          </dd>

          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>labeled</code> by None at 2023-12-27 19:35:30.</li>
  <li class="event odd">
    <code>labeled</code> by None at 2023-12-27 19:35:50.</li>
  <li class="event even">
    <code>assigned</code> by None at 2023-12-27 19:50:04.</li>

            </ul>
          </dd>
        </dl>
      </div>

      </div>
    </section>
    <section class="repo" id="tiger-data-app">
      <h2><a href="https://github.com/pulibrary/tiger-data-app">pulibrary/tiger-data-app</a> <i class="fas fa-external-link-alt fa-xs"></i></h2>
      <div class="issues">
        
      <div class="issue even" id="tiger-data-app-256">
        <h3><a href="https://github.com/pulibrary/tiger-data-app/issues/256">#256</a> Preliminary data validation for the new project request form</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Matthew J. Chandler</dd>
          <dt>Created:</dt>
          <dd>2023-11-29 14:22:57</dd>
          <dt>Status:</dt>
          <dd>Closed
          </dd>
          <dt>Events:</dt>
          <dd>
            <ul class="events">
            
  <li class="event even">
    <code>closed</code> by James R. Griffin III at 2023-12-27 15:09:16.</li>

            </ul>
          </dd>
        </dl>
      </div>
      <div class="issue odd" id="tiger-data-app-113">
        <h3><a href="https://github.com/pulibrary/tiger-data-app/issues/113">#113</a> Preliminary project creation form</h3>
        <dl>
          <dt>Creator:</dt>
          <dd>Matthew J. Chandler</dd>
          <dt>Created:</dt>
          <dd>2023-03-08 14:53:47</dd>
          <dt>Status:</dt>
          <dd>Open
          </dd>
        </dl>
      </div>

      </div>
    </section>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="../../../../js/report.js"></script>
  </div>
</body>

</html>
